<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • rrlmgraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://davidrsch.github.io/rrlmgraph/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rrlmgraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidrsch/rrlmgraph"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/davidrsch/rrlmgraph/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="rrlmgraph-010">rrlmgraph 0.1.0<a class="anchor" aria-label="anchor" href="#rrlmgraph-010"></a></h2>
<p>First release.</p>
<div class="section level4">
<h4 id="improvements-0-1-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-0"></a></h4>
<ul><li>
<code><a href="../reference/plot.rrlm_graph.html">plot.rrlm_graph()</a></code>: replaced the static <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot.igraph()</a></code> backend with an interactive <strong>Graphviz</strong> widget via <code><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">DiagrammeR::grViz()</a></code>. Nodes are grouped into dashed sub-graph boxes by source file, coloured by node type, and sized by PageRank. The widget renders in the RStudio Viewer or any browser with full pan-and-zoom support. A new <code>layout</code> parameter selects the Graphviz engine (<code>"dot"</code> hierarchical, <code>"neato"</code>, <code>"fdp"</code>, <code>"sfdp"</code>, <code>"circo"</code>); a new <code>file</code> parameter saves to <code>.html</code> (via <strong>htmlwidgets</strong>) or to <code>.png</code>/<code>.pdf</code>/<code>.svg</code> (via <strong>webshot2</strong>).</li>
<li>Vignette figure size increased to 10 × 8 inches.</li>
</ul></div>
<div class="section level4">
<h4 id="original-first-release-notes-0-1-0">Original first-release notes<a class="anchor" aria-label="anchor" href="#original-first-release-notes-0-1-0"></a></h4>
<ul><li>
<code>R CMD check --as-cran</code>: zero errors, zero warnings verified across ubuntu/windows/macos x R release/oldrel/devel (<a href="https://github.com/davidrsch/rrlmgraph/issues/25" class="external-link">#25</a>).</li>
<li>
<code>DESCRIPTION</code>: added <code>BugReports</code> URL and <code>spelling</code> to <code>Suggests</code>.</li>
<li>
<code>inst/WORDLIST</code>: package-specific technical terms registered to pass <code><a href="https://docs.ropensci.org/spelling//reference/spell_check_package.html" class="external-link">spelling::spell_check_package()</a></code> cleanly.</li>
<li>CI: added spelling check step after <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> (<a href="https://github.com/davidrsch/rrlmgraph/issues/25" class="external-link">#25</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="breaking-changes-0-1-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-1-0"></a></h4>
<ul><li>
<code><a href="../reference/chat_with_context.html">chat_with_context()</a></code>: the <code>model</code> parameter is now <code>NULL</code> by default (was <code>"gpt-4o-mini"</code>). A per-provider sensible default is applied automatically. Code that passed <code>model</code> explicitly is unaffected.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-1-0-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-0-1"></a></h4>
<ul><li>
<code><a href="../reference/chat_with_context.html">chat_with_context()</a></code> gains a <code>provider</code> argument (<code>"openai"</code>, <code>"ollama"</code>, <code>"github"</code>, <code>"anthropic"</code>). When <code>ellmer</code> is installed the appropriate <code>ellmer::chat_*()</code> backend is used; the <code>httr2</code> fallback is retained for <code>provider = "openai"</code> when <code>ellmer</code> is absent (<a href="https://github.com/davidrsch/rrlmgraph/issues/41" class="external-link">#41</a>).</li>
<li>
<code><a href="../reference/ollama_available.html">ollama_available()</a></code> no longer requires the <code>ollamar</code> package. It now pings the Ollama REST API directly via <code>httr2</code> (<code>GET /api/tags</code>). Set <code>OLLAMA_BASE_URL</code> to override the default <code>http://localhost:11434</code> (<a href="https://github.com/davidrsch/rrlmgraph/issues/40" class="external-link">#40</a>).</li>
<li>Ollama embedding calls (<code><a href="../reference/embed_nodes.html">embed_nodes()</a></code>, <code><a href="../reference/embed_query.html">embed_query()</a></code>) now hit <code>POST /api/embed</code> directly via <code>httr2</code>, removing the <code>ollamar</code> dependency entirely (<a href="https://github.com/davidrsch/rrlmgraph/issues/40" class="external-link">#40</a>).</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1-0"></a></h4>
<ul><li>
<code>R/parse_ast.R</code>: <code>as.character(expr[[1L]])</code> now guarded with an extra <code>[[1L]]</code> so that namespace-qualified calls (<code>pkg::fn</code>) no longer produce a length-3 character vector, which previously caused a “condition has length &gt; 1” crash when building the graph. Same guard added in <code>.collect_nse_symbols()</code> and <code>.find_qualified_calls()</code>. R6Class detection changed to use <code>%in%</code> rather than <code>==</code> for robustness against multi-element vectors.</li>
<li>
<code>R/graph_build.R</code>: <code><a href="../reference/build_test_edges.html">build_test_edges()</a></code> now skips unresolvable bare names instead of throwing “subscript out of bounds” when a called symbol does not appear in the function-node index.</li>
<li>
<code>NAMESPACE</code>: restored <code>S3method()</code> registrations for <code>plot.rrlm_graph</code>, <code>print.rrlm_graph</code>, <code>summary.rrlm_graph</code>, <code>print.rrlm_context</code>, and <code>summary.rrlm_context</code>. Previously the file listed plain <code>export()</code> entries, which broke S3 dispatch so igraph methods were called instead. A new <code>R/imports.R</code> carrying all <code>@importFrom</code> roxygen tags ensures <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> regenerates the full <code>importFrom()</code> block.</li>
<li>
<code><a href="../reference/print.rrlm_graph.html">print.rrlm_graph()</a></code>, <code><a href="../reference/summary.rrlm_graph.html">summary.rrlm_graph()</a></code>: replaced <code>cli::cli_*()</code> calls with <code><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat()</a></code> so output is captured by <code><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output()</a></code> in tests and pipe operators work correctly.</li>
<li>
<code>inst/WORDLIST</code>: added <code>centres</code>, <code>cex</code>, <code>Kamada</code>, <code>Kawai</code> to silence <code><a href="https://docs.ropensci.org/spelling//reference/spell_check_package.html" class="external-link">spelling::spell_check_package()</a></code> failures in CI.</li>
<li>
<code>tests/testthat/test-parse-ast.R</code>: fixed <code>write_r_file()</code> helper so the temporary file outlives the helper call (was deleted immediately by <code><a href="https://withr.r-lib.org/reference/with_tempfile.html" class="external-link">withr::local_tempfile()</a></code>; now uses <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile()</a></code> + <code>withr::defer(..., envir = parent.frame())</code>).</li>
<li>
<code>tests/testthat/test-s3-methods.R</code>: replaced <code>igraph::V(g)$attr &lt;- NULL</code> with <code><a href="https://r.igraph.org/reference/delete_vertex_attr.html" class="external-link">igraph::delete_vertex_attr()</a></code> / <code><a href="https://r.igraph.org/reference/delete_edge_attr.html" class="external-link">igraph::delete_edge_attr()</a></code> to match the igraph 2.x API.</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-0"></a></h4>
<p><strong>Graph construction</strong></p>
<ul><li>
<code><a href="../reference/build_rrlm_graph.html">build_rrlm_graph()</a></code> – build a typed knowledge graph for any R project.</li>
<li>
<code><a href="../reference/update_graph_incremental.html">update_graph_incremental()</a></code> – re-parse only changed files for fast single-file updates.</li>
<li>
<code><a href="../reference/extract_function_nodes.html">extract_function_nodes()</a></code> – AST-based function node extraction supporting standard assignments, S4 generics/methods, and R5/R6 classes.</li>
<li>
<code><a href="../reference/find_calls_in_body.html">find_calls_in_body()</a></code> – enumerate global symbol references in a function body, filtering NSE false-positives.</li>
<li>
<code><a href="../reference/build_call_edges.html">build_call_edges()</a></code> – intra-project CALLS edges.</li>
<li>
<code><a href="../reference/build_import_edges.html">build_import_edges()</a></code> – IMPORTS edges from source files to package dependencies (library calls, qualified calls, and DESCRIPTION fields).</li>
<li>
<code><a href="../reference/build_test_edges.html">build_test_edges()</a></code> – TEST edges from test files to user-defined functions.</li>
</ul><p><strong>Querying and context assembly</strong></p>
<ul><li>
<code><a href="../reference/query_context.html">query_context()</a></code> – relevance-guided BFS producing a token-budgeted context object for use with an LLM.</li>
<li>
<code><a href="../reference/compute_relevance.html">compute_relevance()</a></code> – composite relevance score (semantic, PageRank, task-trace, co-change).</li>
<li>
<code><a href="../reference/build_node_context.html">build_node_context()</a></code> – full or compressed text representation of a single graph node.</li>
<li>
<code><a href="../reference/assemble_context_string.html">assemble_context_string()</a></code> – structured, LLM-ready prompt string from ranked node hits.</li>
</ul><p><strong>Embedding</strong></p>
<ul><li>
<code><a href="../reference/embed_nodes.html">embed_nodes()</a></code> – TF-IDF (default), Ollama, or OpenAI dense embeddings.</li>
<li>
<code><a href="../reference/embed_query.html">embed_query()</a></code> – project a free-text query into the model’s vector space.</li>
<li>
<code><a href="../reference/cosine_similarity.html">cosine_similarity()</a></code> – cosine similarity between two numeric vectors.</li>
<li>
<code><a href="../reference/ollama_available.html">ollama_available()</a></code> – runtime check for a reachable Ollama daemon.</li>
</ul><p><strong>LLM interface</strong></p>
<ul><li>
<code><a href="../reference/chat_with_context.html">chat_with_context()</a></code> – chat with an LLM using graph-derived context; uses <code>ellmer</code> when installed, falls back to <code>httr2</code>.</li>
</ul><p><strong>Task learning</strong></p>
<ul><li>
<code><a href="../reference/log_task_trace.html">log_task_trace()</a></code> – append a JSONL feedback entry to <code>.rrlmgraph/task_trace.jsonl</code>.</li>
<li>
<code><a href="../reference/update_task_weights.html">update_task_weights()</a></code> – apply exponential decay and accumulate per-node weights from the trace file.</li>
<li>
<code><a href="../reference/update_task_polarity.html">update_task_polarity()</a></code> – rewrite polarity values of recent trace entries.</li>
</ul><p><strong>Cache and export</strong></p>
<ul><li>
<code><a href="../reference/save_graph_cache.html">save_graph_cache()</a></code> – serialise graph to <code>.rrlmgraph/graph.rds</code>.</li>
<li>
<code><a href="../reference/load_graph_cache.html">load_graph_cache()</a></code> – restore graph from cache, refreshing task weights.</li>
<li>
<code><a href="../reference/is_cache_stale.html">is_cache_stale()</a></code> – compare cache mtime against R source files.</li>
<li>
<code><a href="../reference/export_to_sqlite.html">export_to_sqlite()</a></code> – write nodes, edges, and traces to a SQLite database for the TypeScript MCP server.</li>
</ul><p><strong>Project detection</strong></p>
<ul><li>
<code><a href="../reference/detect_rproject.html">detect_rproject()</a></code> – detect project type and discover all R source files.</li>
</ul><p><strong>Instructions</strong></p>
<ul><li>
<code><a href="../reference/generate_instructions.html">generate_instructions()</a></code> – generate a Copilot-style instruction Markdown file from the project graph.</li>
</ul><p><strong>S3 methods</strong></p>
<ul><li>
<code><a href="../reference/print.rrlm_graph.html">print.rrlm_graph()</a></code>, <code><a href="../reference/summary.rrlm_graph.html">summary.rrlm_graph()</a></code>, <code><a href="../reference/plot.rrlm_graph.html">plot.rrlm_graph()</a></code>
</li>
<li>
<code><a href="../reference/print.rrlm_context.html">print.rrlm_context()</a></code>, <code><a href="../reference/summary.rrlm_context.html">summary.rrlm_context()</a></code>
</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Díaz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

